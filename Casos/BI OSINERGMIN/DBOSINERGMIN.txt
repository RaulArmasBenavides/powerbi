CREATE TABLE osinerg.DIM_SUCURSAL
(
ID_SUCURSAL int IDENTITY NOT NULL,
NOMBRE varchar(30)  NOT NULL,
EMPRESA varchar(30)  NOT NULL,
PRIMARY KEY(ID_SUCURSAL)
);



CREATE TABLE osinerg.DIM_CLIENTE 
(
ID_CLIENTE int IDENTITY NOT NULL,
NOMBRE  varchar(30)  NOT NULL,
APELLIDA varchar(30)  NOT NULL,
DNI varchar(10) NOT NULL,
CELULAR varchar(10) NOT NULL,
PRIMARY KEY(ID_CLIENTE)
);


CREATE TABLE osinerg.DIM_PROBLEMA
(
ID_PROBLEMA int IDENTITY NOT NULL,
DESCRIPCION  varchar(100)  NOT NULL,
PRIMARY KEY(ID_PROBLEMA)
);


CREATE TABLE osinerg.DIM_TIEMPO
(
ID_TIEMPO int IDENTITY NOT NULL,
ANNO varchar(4) NOT NULL,
TRIMESTRE varchar(15),
MES   varchar(20),
NROMES int,
PRIMARY KEY(ID_TIEMPO)
);


CREATE TABLE osinerg.DIM_UBIGEO
(
ID_UBIGEO int IDENTITY NOT NULL,
DEPARTAMENTO varchar(50),
PROVINCIA varchar(50),
DISTRITO varchar(50),
PRIMARY KEY(ID_UBIGEO)
);

CREATE TABLE osinerg.DIM_SECTOR 
(
ID_SECTOR int IDENTITY NOT NULL,
NOMBRE  varchar(100)  NOT NULL,
PRIMARY KEY(ID_SECTOR)
);

CREATE TABLE osinerg.FACT_DENUNCIA
(
 ID_DENUNCIA int IDENTITY NOT NULL,
 ID_SUCURSAL int FOREIGN KEY REFERENCES contrato(ID_SUCURSAL) ON DELETE CASCADE,
 ID_CLIENTE  int FOREIGN KEY REFERENCES contrato(ID_CLIENTE) ON DELETE CASCADE,
 ID_PROBLEMA int FOREIGN KEY REFERENCES contrato(ID_PROBLEMA) ON DELETE CASCADE,
 ID_SECTOR int FOREIGN KEY REFERENCES contrato(ID_SECTOR) ON DELETE CASCADE,
 ID_UBIGEO int FOREIGN KEY REFERENCES contrato(ID_UBIGEO) ON DELETE CASCADE,
 ID_TIEMPO int FOREIGN KEY REFERENCES contrato(ID_TIEMPO) ON DELETE CASCADE,
 PRIMARY KEY(ID_DENUNCIA)
);





